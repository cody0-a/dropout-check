{% extends 'account/base.html' %}

{% block content %}
    <h1 class="text-3xl font-bold text-center my-6">Categorized Students by Dropout Reason</h1>

    <div class="container mx-auto px-4">
        {% for reason, students in dropout_reasons.items %}
            <div class="mb-4 p-4 border-l-4 
                {% if reason == 'Academic' %}border-red-500 bg-red-100{% elif reason == 'Financial' %}border-yellow-500 bg-yellow-100{% elif reason == 'Health' %}border-green-500 bg-green-100{% elif reason == 'Personal' %}border-teal-500 bg-teal-100{% elif reason == 'Marriage' %}border-purple-500 bg-purple-100{% elif reason == 'Distance' %}border-orange-500 bg-orange-100{% elif reason == 'Death' %}border-gray-500 bg-gray-100{% else %}border-blue-500 bg-blue-100{% endif %}">
                <h2 class="text-xl font-semibold">{{ reason }} Dropouts ({{ students|length }})</h2>
                <ul class="mt-2">
                    {% for student in students %}
                        <li class="py-1">{{ student.user.username }} - Roll No: {{ student.roll_no }}</li>
                    {% empty %}
                        <li class="py-1 text-gray-600">No students in this category.</li>
                    {% endfor %}
                </ul>
            </div>
        {% endfor %}
    </div>
{% endblock %}